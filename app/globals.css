@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, body {
    @apply bg-gothic-dark text-white;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden; /* 禁止頁面滾動 */
    position: fixed; /* 固定頁面位置 */
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  #__next {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
}

@layer utilities {
  .treasure-map-bg {
    /* 迷霧海中前行 - 深灰到深紫漸變背景 */
    background: 
      /* 迷霧漸變層 */
      radial-gradient(ellipse at top, rgba(107, 70, 193, 0.15) 0%, transparent 60%),
      radial-gradient(ellipse at bottom, rgba(30, 58, 138, 0.2) 0%, transparent 60%),
      radial-gradient(ellipse at left, rgba(139, 69, 19, 0.1) 0%, transparent 50%),
      radial-gradient(ellipse at right, rgba(107, 70, 193, 0.1) 0%, transparent 50%),
      /* 深灰到深紫主漸變 */
      linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #1a1a2e 75%, #2d1b3d 100%),
      /* 最深層基礎 */
      #0a0a1a;
    background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%, 200% 200%, 100% 100%;
    position: relative;
    overflow: hidden;
  }

  /* 噪點/顆粒紋理 - 模擬幽暗未知的迷霧感 */
  .treasure-map-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      /* 細網格線 - 航海圖座標 */
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 39px,
        rgba(139, 69, 19, 0.05) 40px,
        rgba(139, 69, 19, 0.05) 41px
      ),
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 39px,
        rgba(139, 69, 19, 0.05) 40px,
        rgba(139, 69, 19, 0.05) 41px
      ),
      /* 噪點紋理 - 使用點狀圖案模擬 */
      repeating-linear-gradient(
        0deg,
        transparent 0px,
        rgba(255, 255, 255, 0.01) 1px,
        transparent 2px,
        rgba(255, 255, 255, 0.01) 3px,
        transparent 4px
      ),
      repeating-linear-gradient(
        90deg,
        transparent 0px,
        rgba(255, 255, 255, 0.01) 1px,
        transparent 2px,
        rgba(255, 255, 255, 0.01) 3px,
        transparent 4px
      );
    pointer-events: none;
    opacity: 0.4;
    mix-blend-mode: overlay;
  }

  /* 藏寶圖邊緣和迷霧效果 */
  .treasure-map-bg::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      /* 邊緣迷霧陰影 */
      linear-gradient(to right, rgba(0, 0, 0, 0.4) 0%, transparent 5%, transparent 95%, rgba(0, 0, 0, 0.4) 100%),
      linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 5%, transparent 95%, rgba(0, 0, 0, 0.4) 100%),
      /* 迷霧流動效果 */
      radial-gradient(ellipse at 20% 30%, rgba(107, 70, 193, 0.15) 0%, transparent 40%),
      radial-gradient(ellipse at 80% 70%, rgba(30, 58, 138, 0.15) 0%, transparent 40%),
      radial-gradient(ellipse at 50% 50%, rgba(139, 69, 19, 0.1) 0%, transparent 50%);
    pointer-events: none;
    border: 3px solid rgba(139, 69, 19, 0.15);
    box-shadow: 
      inset 0 0 80px rgba(0, 0, 0, 0.6),
      inset 0 0 120px rgba(107, 70, 193, 0.05);
  }

  .gothic-border {
    border: 2px solid rgba(167, 139, 250, 0.3);
    box-shadow: 
      0 0 10px rgba(167, 139, 250, 0.2),
      inset 0 0 10px rgba(167, 139, 250, 0.1);
  }

  .gothic-button {
    @apply relative overflow-hidden transition-all duration-300;
    /* 哥德式金屬銘牌風格 - 深背景、突出邊框、黯淡金色陰影 */
    border: 3px solid rgba(139, 69, 19, 0.6);
    background: 
      linear-gradient(135deg, rgba(26, 26, 46, 0.95) 0%, rgba(15, 15, 35, 0.95) 100%),
      radial-gradient(circle at center, rgba(107, 70, 193, 0.1) 0%, transparent 70%);
    backdrop-filter: blur(8px);
    box-shadow: 
      /* 外部黯淡金色陰影 */
      0 4px 12px rgba(251, 191, 36, 0.15),
      0 2px 4px rgba(139, 69, 19, 0.3),
      /* 內部深色陰影 */
      inset 0 2px 4px rgba(0, 0, 0, 0.5),
      inset 0 -2px 4px rgba(251, 191, 36, 0.05);
  }

  .gothic-button:hover {
    border-color: rgba(251, 191, 36, 0.5);
    background: 
      linear-gradient(135deg, rgba(26, 26, 46, 0.98) 0%, rgba(15, 15, 35, 0.98) 100%),
      radial-gradient(circle at center, rgba(107, 70, 193, 0.2) 0%, transparent 70%);
    box-shadow: 
      /* 增強的金色陰影 */
      0 6px 20px rgba(251, 191, 36, 0.25),
      0 4px 8px rgba(139, 69, 19, 0.4),
      /* 內部發光 */
      inset 0 2px 6px rgba(251, 191, 36, 0.1),
      inset 0 -2px 6px rgba(167, 139, 250, 0.1);
    transform: translateY(-2px) scale(1.02);
  }

  .gothic-button:active {
    transform: translateY(0) scale(1);
    box-shadow: 
      0 2px 8px rgba(251, 191, 36, 0.2),
      inset 0 2px 4px rgba(0, 0, 0, 0.6);
  }

  .gothic-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(251, 191, 36, 0.1),
      transparent
    );
    transition: left 0.5s;
  }

  .gothic-button:hover::before {
    left: 100%;
  }
  
  /* 按鈕邊框裝飾效果 */
  .gothic-button::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    right: 2px;
    bottom: 2px;
    border: 1px solid rgba(251, 191, 36, 0.2);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .gothic-button:hover::after {
    opacity: 1;
  }
}

